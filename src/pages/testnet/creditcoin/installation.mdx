---
import { SITE } from '~/config.mjs';
import { getCanonical, getHomePermalink } from '~/utils/permalinks';
import Layout from '~/layouts/PageLayout.astro';
import { Icon } from 'astro-icon';

const name= 'Creditcoin';
const icon= 'creditcoin';
const network= 'Testnet';
const chain= '';
const version= '';
const stake= '#';
const social = [
  { label: 'Twitter', icon: 'tabler:brand-twitter', href: 'https://twitter.com/Impact_Protocol' },
  { label: 'Discord', icon: 'tabler:brand-discord', href: 'http://discord.gg/25n4x6pyuP' },
  { label: 'Chrome',  icon: 'tabler:brand-chrome', href: 'https://impactprotocol.network/' },
];
const meta = {
	title: SITE.title,
	description: SITE.description,
	canonical: getCanonical(getHomePermalink()),
};

const items = [
	{
		title: 'Node installation',
		Link: 'https://service.sychonix.me/testnet/creditcoin/installation',
	},
]	
---

<Layout {meta}>
  <section>
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
      <div class="py-10 md:py-20">
        <div class="text-center pb-5 md:pb-5 max-w-5xl mx-auto">
          <Icon name={icon} class="w-20 h-20 inline-block align-text-bottom" />           
          <h1 class="text-5xl md:text-[3.50rem] font-bold leading-tighter tracking-tighter mb-4 font-heading">
            Service {name}
          </h1>
          <a class="btn bg-primary-400 w-1/4 items-center hover:bg-primary-400 font-bold md:pb-4" href={stake}>
            Stake with me
          </a>
        </div>
        <section class="bg-primary-100 dark:bg-slate-800 items-center">
          <div class=" bg-transparent px-4 sm:px-6 py-4 text-md text-center font-medium">
            <li>
              <span class="font-bold">Network Type:</span> {network}
            </li>
            <li>
              <span class="font-bold">Chain-id:</span> {chain}
            </li>
            <li>
              <span class="font-bold">Node version:</span> {version}
            </li>
            {social.map((item) => (
              <a href={item.href} target="_blank" rel="noopener noreferrer" key={item.label}>
                <Icon name={item.icon} class="w-8 h-7 inline-block align-text-bottom" />
              </a>
            ))}
          </div>
        </section>
        <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3 items-start my-10 dark:text-white">
          {items.map(({ title, Link }) => (
            <a href={Link} target="_blank">
              <div class="relative flex flex-col p-6 bg-white dark:bg-slate-900 rounded shadow-xl hover:shadow-lg transition dark:border dark:border-slate-800">
                <div class="flex items-center mb-4 text-center">
                  <div class="ml-4 text-xl font-bold text-center">{title}</div>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </div>
  </section>
</Layout>


---
layout: '~/layouts/MarkdownLayout.astro'
title: Installation Node
network: Testnet
icon: creditcoin
---

**before you run validator, make sure to get a faucet by [filling this form](https://form.typeform.com/to/yGrtGCJO)**
### Install Docker 
```
sudo apt-get update && sudo apt install jq git && sudo apt install apt-transport-https ca-certificates curl software-properties-common -y && curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - && sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable" && sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin && sudo apt-get install docker-compose-plugin 
```

```
sudo apt update; sudo apt upgrade 
```

### Download Image
```
docker pull gluwa/creditcoin:2.222.2-testnet 
```

### Run node
```
docker run -d \
 --name creditcoin-validator \
 -p 30333:30333 \
 -v  creditcoin/creditcoin-node/data  \
 gluwa/creditcoin:2.222.2-testnet \
 --name "YOUR_VALIDATOR_NAME" \
 --telemetry-url "wss://telemetry.creditcoin.network/submit/ 0" \
 --public-addr "/dns4/YOUR_VPS_IP/tcp/30333" \
--chain test \
 --bootnodes "/dns4/testnet-bootnode.creditcoin.network/tcp/30333/p2p/12D3KooWG3eEuYxo37LvU1g6SSESu4i9TQ8FrZmJcjvdys7eA3cH" "/dns4/testnet-bootnode2.creditcoin.network/tcp/30333/p2p/12D3KooWLq7wCMQS3qVMCNJ2Zm6rYuYh74cM99i9Tm8PMdqJPDzb" "/dns4/testnet-bootnode3.creditcoin.network/tcp/30333/p2p/12D3KooWAKUrvmchoLomoouoN1sKfF9kq8dYtCVFvtPuvqp7wFBS" \
--validator \
--base-path /creditcoin-node/data \
--port 30333
```
### check logs
```
docker logs -f creditcoin-validator
```
Open [explorer and search for your validator name](https://telemetry.creditcoin.network/#list/0xc2e43792c8acc075e564558f9a2184a0ffe9b0fd573969599eee9b647358c6cf) with the browser 

### activate the validator
create 2 wallets and don't forget to save pharse
```
docker exec -it creditcoin-validator creditcoin-cli new
```
send faucets [via website](https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frpc.testnet.creditcoin.network%2Fws#/accounts) to the first and second accounts then run the validator
```
docker exec -it creditcoin-validator creditcoin-cli wizard -a 5000
```
stash is filled using the first pharse wallet and controller is filled using the second pharse wallet, the display will be like this

```
üí∞ Stash account: your stash address 
üéÆ Controller account: your controller address 
ü™ô Amount to bond: 100.000000000000000000 CTC
üéÅ Reward destination: Staked
üì° Node URL: ws://localhost:9944
üí∏ Commission: 0
üîê Blocked: No
```

### Check your validator
To check whether the validator is active or not, you can log in to [via the following link](https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frpc.testnet.creditcoin.network%2Fws#/staking) 
